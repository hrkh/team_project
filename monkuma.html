<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>プロジェクト名 — GitHub Pages</title>
  <meta name="description" content="コラボレイティブ開発の学習用ページです。README やドキュメントへのリンクを置いてください。">

  <!-- シンプルなスタイル -->
  <style>
    :root{--accent:#0066cc;--bg:#f7f9fb;--card:#ffffff;--muted:#666}
    *{box-sizing:border-box}
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Hiragino Kaku Gothic ProN",Meiryo,sans-serif;margin:0;background:var(--bg);color:#111}
    header{background:linear-gradient(90deg,var(--accent),#2aa1ff);color:#fff;padding:28px 16px}
    .container{max-width:1000px;margin:0 auto;padding:16px}
    nav{display:flex;gap:12px;align-items:center}
    a.logo{font-weight:700;font-size:18px;color:white;text-decoration:none}
    .hero{display:flex;flex-direction:column;gap:12px;padding:36px 0}
    h1{margin:0;font-size:28px}
    p.lead{margin:0;color:rgba(255,255,255,0.9)}

    main{padding:28px 0}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}
    .card{background:var(--card);padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(11,22,40,0.06)}
    footer{padding:24px 0;color:var(--muted);font-size:13px}

    .btn{display:inline-block;padding:10px 14px;border-radius:8px;background:var(--accent);color:#fff;text-decoration:none}
    @media (min-width:800px){h1{font-size:40px}}

    /* ミニゲーム用 */
    #dinoInfo{font-size:14px;color:#555;margin-top:8px}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <nav>
        <a href="#" class="logo">YourProject</a>
      </nav>

      <div class="hero">
        <h1>コラボレイティブ開発 — 学習用ページ</h1>
        <p class="lead">GitHub Pages に配置するシンプルなトップページのテンプレートです。チームでページを更新していきましょう。</p>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="card" style="text-align:center;padding:48px 16px">
      <h2>ようこそ</h2>
      <p>GitHub Pages 用のシンプルなトップページです。</p>
    </section>

    <section class="card" style="margin-top:24px">
      <h2>ミニゲーム（Dino風）</h2>
      <p>スペースキーでジャンプ！障害物をよけよう。</p>
      <canvas id="dinoGame" width="600" height="150" style="background:#fff;border-radius:8px;box-shadow:0 4px 10px rgba(0,0,0,0.08)"></canvas>
      <p id="dinoScore" style="margin-top:8px;font-weight:600;font-size:16px">Score: 0</p>
      <p id="dinoInfo">スペースキーでスタート＆ジャンプ。ぶつかるとゲームオーバー。リセットは R キー。</p>
    </section>
  </main>

  <footer class="container">
    <div class="card" style="padding:12px;background:transparent;box-shadow:none">
      <small>© <span id="year"></span> YourProject — 作成: コラボレイティブ開発講義</small>
    </div>
  </footer>
<script>
  // フッターの年を自動更新
  document.getElementById('year').textContent = new Date().getFullYear();

  // ===== Dino風ミニゲーム =====
  const canvas = document.getElementById('dinoGame');
  const ctx = canvas.getContext('2d');

  const groundY = 130; // 地面の高さ
  const dino = {
    x: 40,
    y: groundY - 30,
    w: 26,
    h: 30,
    vy: 0,
    onGround: true
  };

  const gravity = 0.6;
  const jumpPower = -11;

  let obstacles = [];
  let frame = 0;
  let score = 0;
  let gameOver = false;

  // スピード制御（時間経過でアップ）
  let gameSpeed = 5;      // 初期スピード
  const maxSpeed = 14;    // 上限
  const accel = 0.002;    // 1フレームごとの加速量

  function resetGame() {
    obstacles = [];
    frame = 0;
    score = 0;
    gameOver = false;
    gameSpeed = 5; // スピードもリセット
    dino.y = groundY - dino.h;
    dino.vy = 0;
    dino.onGround = true;
    document.getElementById('dinoScore').textContent = 'Score: 0';
    loop();
  }

  // ランダムで障害物タイプを決める
  function createRandomObstacle() {
    const r = Math.random();
    // ベースサイズ
    let type, w, h, y, color;

    if (r < 0.5) {
      // サボテン風（細長い）
      type = 'cactus';
      w = 14 + Math.random() * 6;
      h = 30 + Math.random() * 10;
      y = groundY - h;
      color = '#2f7d32';
    } else if (r < 0.8) {
      // 岩風（低くて横長）
      type = 'rock';
      w = 26 + Math.random() * 10;
      h = 16 + Math.random() * 6;
      y = groundY - h;
      color = '#555';
    } else {
      // 鳥風（空中を飛ぶ）
      type = 'bird';
      w = 20;
      h = 16;
      // 地面より少し上を飛ぶ高さ
      const flyHeight = 20 + Math.random() * 25;
      y = groundY - h - flyHeight;
      color = '#444';
    }

    return {
      x: canvas.width,
      y,
      w,
      h,
      type,
      color,
      passed: false
    };
  }

  function spawnObstacle() {
    obstacles.push(createRandomObstacle());
  }

  function update() {
    if (gameOver) return;

    // Dino 物理
    dino.vy += gravity;
    dino.y += dino.vy;
    if (dino.y >= groundY - dino.h) {
      dino.y = groundY - dino.h;
      dino.vy = 0;
      dino.onGround = true;
    }

    // スピードを少しずつ上げる
    if (gameSpeed < maxSpeed) {
      gameSpeed += accel;
    }

    // 障害物生成
    if (frame % 70 === 0) {
      if (Math.random() < 0.85) {
        spawnObstacle();
      }
    }

    // 障害物更新（gameSpeed で移動）
    obstacles.forEach(o => {
      o.x -= gameSpeed;
      if (!o.passed && o.x + o.w < dino.x) {
        o.passed = true;
        score++;
        document.getElementById('dinoScore').textContent = 'Score: ' + score;
      }
    });

    // 画面外の障害物を削除
    obstacles = obstacles.filter(o => o.x + o.w > 0);

    // 衝突判定
    for (const o of obstacles) {
      if (
        dino.x < o.x + o.w &&
        dino.x + dino.w > o.x &&
        dino.y < o.y + o.h &&
        dino.y + dino.h > o.y
      ) {
        gameOver = true;
      }
    }

    frame++;
  }

  function drawDino() {
    // シンプルな「恐竜」風シルエット
    ctx.fillStyle = '#222';

    // 体
    ctx.fillRect(dino.x, dino.y + 6, dino.w, dino.h - 6);

    // 頭
    ctx.fillRect(dino.x + dino.w - 10, dino.y, 12, 12);

    // 足
    ctx.fillRect(dino.x + 3, dino.y + dino.h - 4, 6, 6);
    ctx.fillRect(dino.x + 13, dino.y + dino.h - 4, 6, 6);

    // しっぽ
    ctx.beginPath();
    ctx.moveTo(dino.x, dino.y + dino.h - 4);
    ctx.lineTo(dino.x - 8, dino.y + dino.h - 8);
    ctx.lineTo(dino.x, dino.y + dino.h - 12);
    ctx.closePath();
    ctx.fill();
  }

  function drawObstacle(o) {
    ctx.fillStyle = o.color;

    if (o.type === 'cactus') {
      // サボテン風：本体＋左右の腕
      ctx.fillRect(o.x, o.y, o.w, o.h);
      // 左腕
      ctx.fillRect(o.x - o.w * 0.3, o.y + o.h * 0.3, o.w * 0.3, o.h * 0.35);
      // 右腕
      ctx.fillRect(o.x + o.w, o.y + o.h * 0.2, o.w * 0.3, o.h * 0.4);
    } else if (o.type === 'rock') {
      // 岩風：少し凸凹した形
      ctx.beginPath();
      ctx.moveTo(o.x, o.y + o.h);
      ctx.lineTo(o.x + o.w * 0.2, o.y + o.h * 0.5);
      ctx.lineTo(o.x + o.w * 0.5, o.y);
      ctx.lineTo(o.x + o.w * 0.8, o.y + o.h * 0.4);
      ctx.lineTo(o.x + o.w, o.y + o.h);
      ctx.closePath();
      ctx.fill();
    } else if (o.type === 'bird') {
      // 鳥風：本体＋羽
      const bodyH = o.h * 0.6;
      ctx.fillRect(o.x, o.y + (o.h - bodyH), o.w, bodyH);
      // 羽
      ctx.beginPath();
      ctx.moveTo(o.x + o.w * 0.3, o.y + bodyH);
      ctx.lineTo(o.x + o.w * 0.6, o.y + bodyH - o.h * 0.6);
      ctx.lineTo(o.x + o.w * 0.9, o.y + bodyH);
      ctx.closePath();
      ctx.fill();
      // 目
      ctx.fillStyle = '#fff';
      ctx.fillRect(o.x + o.w * 0.7, o.y + bodyH - 6, 3, 3);
    } else {
      // 念のためデフォルト
      ctx.fillRect(o.x, o.y, o.w, o.h);
    }
  }

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // 背景の地面
    ctx.strokeStyle = '#aaa';
    ctx.beginPath();
    ctx.moveTo(0, groundY);
    ctx.lineTo(canvas.width, groundY);
    ctx.stroke();

    // Dino
    drawDino();

    // 障害物
    obstacles.forEach(drawObstacle);

    // Game Over 表示
    if (gameOver) {
      ctx.fillStyle = '#000';
      ctx.font = '20px sans-serif';
      ctx.fillText('Game Over! Press R', 200, 70);
    }
  }

  function loop() {
    update();
    draw();
    if (!gameOver) {
      requestAnimationFrame(loop);
    }
  }

  // 入力: Space でジャンプ、R でリセット
  document.addEventListener('keydown', e => {
    if (e.code === 'Space') {
      if (!gameOver && dino.onGround) {
        dino.vy = jumpPower;
        dino.onGround = false;
      }
      if (frame === 0 && !gameOver) {
        loop();
      }
      e.preventDefault();
    }
    if (e.key === 'r' || e.key === 'R') {
      resetGame();
    }
  });

  // 初期描画
  draw();
</script>
